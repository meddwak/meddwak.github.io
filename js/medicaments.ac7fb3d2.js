(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["medicaments"],{"0873":function(t,e,i){},"3d8b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[i("v-card",{staticClass:"elevation-3"},[i("v-card-title",[t._v(" Medicaments "),i("v-spacer"),i("v-text-field",{staticClass:"mr-8",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{loading:t.busy,"loading-text":"Loading... Please wait",headers:t.headers,items:t.documents,search:t.search,"footer-props":{showFirstLastPage:!1,prevIcon:"mdi-arrow-left",nextIcon:"mdi-arrow-right"}},on:{"update:items-per-page":t.itemPerPage},scopedSlots:t._u([{key:"item.scanned",fn:function(e){var a=e.item;return[i("td",[t._v(t._s(t.timeAgo(a.scanned.toDate())))])]}},{key:"item.name",fn:function(e){var a=e.item;return[i("td",{staticClass:"hover",on:{click:function(e){return t.showMed(a)}}},[t._v(t._s(a.name))])]}},{key:"item.userName",fn:function(e){var a=e.item;return[i("td",{staticClass:"hover",on:{click:function(e){return t.showUser(a)}}},[t._v(t._s(a.userName))])]}},{key:"item.ordPath",fn:function(e){var a=e.item;return[a.ordPath?i("td",[i("expandable-image",{staticClass:"image",attrs:{src:a.ordPath,"lazy-src":a.ordPath}})],1):i("td",[t._v("vide")])]}},{key:"item.isVerified",fn:function(e){var a=e.item;return[i("v-switch",{attrs:{"input-value":a.isVerified,color:"purple"},on:{change:function(e){return t.changeState(a.documentID,!a.isVerified)}}})]}},{key:"no-data",fn:function(){return[t._v(" NO DATA FOUND! ")]},proxy:!0}],null,!0)})],1)],1),i("v-dialog",{staticClass:"mx-auto",attrs:{"max-width":"500"},model:{value:t.dialogMedicament,callback:function(e){t.dialogMedicament=e},expression:"dialogMedicament"}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("• Medicaments")])]),t.dialogMedItem.image?i("v-img",{attrs:{contain:"",height:"300px",src:t.dialogMedItem.image,"lazy-src":t.dialogMedItem.image}}):i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{md6:"","offset-sm3":""}},[i("div",[null!=t.imageData?i("div",[i("v-progress-linear",{attrs:{height:"25"},model:{value:t.uploadValue,callback:function(e){t.uploadValue=e},expression:"uploadValue"}},[i("strong",[t._v(t._s(Math.ceil(t.uploadValue))+"%")])]),i("br"),t.doneUploading?i("v-img",{staticClass:"white--text align-end",attrs:{height:"300px",src:t.img1}}):t._e()],1):i("div",[i("v-btn",{on:{click:t.pickImage}},[t._v("Choisir une imgae")]),i("input",{ref:"input1",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.previewImage}})],1)])])],1),i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"headline"},[t._v(" "+t._s(t.dialogMedItem.nom)+" ")]),i("v-list-item-subtitle",[t._v(t._s(t.dialogMedItem.form)+", "+t._s(t.dialogMedItem.dosage))])],1)],1),i("v-card-text",{staticClass:"text--primary"},[i("v-list-item-content",[i("v-list-item-title",[t._v("Le nom de laboratoire")]),i("v-list-item-subtitle",[t._v(t._s(t.dialogMedItem.labo))])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("le pays de laboratoire")]),i("v-list-item-subtitle",[t._v(t._s(t.dialogMedItem.pays_labo))])],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogMedicament=!1}}},[t._v("Fermer")])],1)],1)],1),i("v-dialog",{staticClass:"mx-auto",attrs:{"max-width":"500"},model:{value:t.dialogUser,callback:function(e){t.dialogUser=e},expression:"dialogUser"}},[i("v-card",{attrs:{width:"500"}},[i("v-sheet",{attrs:{color:"teal",height:"200px"}},[i("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[i("v-toolbar-title",{staticClass:"title white--text pl-0"},[t._v(" MedDwak User ")]),i("v-spacer")],1),i("v-card-title",{staticClass:"white--text mt-8"},[i("v-avatar",{attrs:{size:"56"}},[t.dialogUserItem.mPhotoUri?i("v-img",{attrs:{src:t.dialogUserItem.mPhotoUri,"lazy-src":t.dialogUserItem.mPhotoUri}}):t._e()],1),i("p",{staticClass:"ml-3"},[t._v(" "+t._s(t.dialogUserItem.mName)+" ")])],1)],1),i("v-card-actions",[i("div",{staticClass:"font-weight-bold ml-8 mb-2"},[t._v(" Contact ")]),i("v-timeline",{attrs:{"align-top":"",dense:""}},[i("v-timeline-item",{attrs:{small:""}},[i("div",[i("div",{staticClass:"font-weight-normal"},[i("strong",[t._v("Numéro de téléphone ")])]),i("div",[t._v(t._s(t.dialogUserItem.mPhoneNumber))])]),i("div",[i("div",{staticClass:"font-weight-normal"},[i("strong",[t._v("Year of birth")])]),i("div",[t._v(t._s(t.dialogUserItem.dateOfBirth))])]),i("div",[i("div",{staticClass:"font-weight-normal"},[i("strong",[t._v("Email")])]),i("div",[t._v(t._s(t.dialogUserItem.mEmail))])])])],1)],1)],1)],1)],1)},o=[],s=(i("b0c0"),i("17e1")),n=s["a"].collection("med-dwa").orderBy("scanned","desc"),l={data:function(){return{img1:"",imageData:null,uploadValue:0,pagination:{page:1,totalItems:1},documents:[],search:"",doneUploading:!1,limit:10,dialogMedicament:!1,dialogUser:!1,back:!1,documentID:"",medicamentID:"",isVerified:null,headers:[{text:"Ajouter a",align:"start",value:"scanned",sortable:!0},{text:"Le Type",value:"category"},{text:"Wilaya",value:"location"},{text:"Le nom du med ",value:"name"},{text:"Ordonnance",value:"ordPath",sortable:!1},{text:"Utilisateur",value:"userName",sortable:!1},{text:"Ord Verified",value:"isVerified",sortable:!1}],dialogMedItem:{dosage:"",form:"",labo:"",nom:"",pays_labo:"",denomination:"",image:""},dialogUserItem:{dateOfBirth:"",mEmail:"",mName:"",mPhoneNumber:"",mPhotoUri:""},defaultItem:{id:-1,titre:"",prix:0,categorie:"",description:""},busy:!1}},mounted:function(){this.loadFirst()},computed:{pages:function(){return null==this.limit||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.limit)},formTitle:function(){return""},isLoggedIn:function(){return""}},watch:{dialogMedicament:function(t){t||(this.dialogMedItem.image="https://meddwak.com/wp-content/uploads/2020/05/cropped-logo_white.png")}},methods:{changeState:function(t,e){s["a"].collection("med-dwa").doc(t).set({isVerified:e},{merge:!0})},create:function(){s["a"].collection("medicaments").doc(this.medicamentID).set({image:this.img1},{merge:!0}),s["a"].collection("med-dwa").doc(this.documentID).set({path:this.img1},{merge:!0}),this.doneUploading=!0},pickImage:function(){this.$refs.input1.click()},previewImage:function(t){this.uploadValue=0,this.img1=null,this.imageData=t.target.files[0],this.onUpload()},onUpload:function(){var t=this;this.img1=null;var e=s["b"].ref("images/".concat(this.imageData.name)).put(this.imageData);e.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){e.snapshot.ref.getDownloadURL().then((function(e){t.img1=e,t.uploadValue=100,t.create()}))}))},showMed:function(t){var e=this;this.documentID=t.documentID,this.medicamentID=t.medicamentID,null!=this.medicamentID&&(s["a"].collection("medicaments").doc(t.medicamentID).get().then((function(t){t.exists?e.dialogMedItem=t.data():console.log("No such document!")})).catch((function(t){console.log("Error getting document:",t)})),this.dialogMedicament=!0)},showUser:function(t){var e=this;null!=t.userID&&(s["a"].collection("med-dwa-users").doc(t.userID).get().then((function(t){t.exists?e.dialogUserItem=t.data():e.dialogMedItem.mName="No such User!"})).catch((function(t){this.dialogMedItem.mName="Error getting document!"+t})),this.dialogUser=!0)},timeAgo:function(t){var e=Math.floor((new Date-t)/1e3),i=e/31536e3;return i>1?Math.floor(i)+" years":(i=e/2592e3,i>1?Math.floor(i)+" months":(i=e/86400,i>1?Math.floor(i)+" days":(i=e/3600,i>1?Math.floor(i)+" hours":(i=e/60,i>1?Math.floor(i)+" minutes":Math.floor(e)+" seconds"))))},showOrd:function(t){this.dialog=!0},save:function(){},fav:function(){},loadFirst:function(){var t=this;this.busy=!0,this.$bind("documents",n.limit(100)),n.get().then((function(e){t.pagination.totalItems=e.size})),this.busy=!1},load:function(t){this.busy=!0,console.log(this.limit*t-this.limit),this.$bind("documents",n.startAt(this.limit*t-this.limit).limit(this.limit)),this.busy=!1},loadStartPage:function(){this.busy=!0,this.$bind("documents",n.limit(this.limit)),this.busy=!1},paginationChangeHandler:function(t){console.log(t)},itemPerPage:function(t){this.limit=t}}},r=l,c=(i("5e18"),i("2877")),d=Object(c["a"])(r,a,o,!1,null,"851f4688",null);e["default"]=d.exports},"5e18":function(t,e,i){"use strict";i("0873")},b0c0:function(t,e,i){var a=i("83ab"),o=i("9bf2").f,s=Function.prototype,n=s.toString,l=/^\s*function ([^ (]*)/,r="name";a&&!(r in s)&&o(s,r,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=medicaments.ac7fb3d2.js.map