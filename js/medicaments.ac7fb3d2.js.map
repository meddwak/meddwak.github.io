{"version":3,"sources":["webpack:///./src/views/Medicaments.vue?63a8","webpack:///src/views/Medicaments.vue","webpack:///./src/views/Medicaments.vue?c745","webpack:///./src/views/Medicaments.vue?d051","webpack:///./src/views/Medicaments.vue?2a7a","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","model","value","callback","$$v","search","expression","busy","headers","documents","showFirstLastPage","prevIcon","nextIcon","on","itemPerPage","scopedSlots","_u","key","fn","ref","item","_s","timeAgo","scanned","toDate","$event","showMed","name","showUser","userName","ordPath","isVerified","changeState","documentID","proxy","dialogMedicament","dialogMedItem","image","imageData","uploadValue","Math","ceil","img1","_e","pickImage","staticStyle","previewImage","nom","form","dosage","labo","pays_labo","dialogUser","dialogUserItem","mPhotoUri","mName","mPhoneNumber","dateOfBirth","mEmail","staticRenderFns","data","text","align","sortable","mounted","loadFirst","computed","pages","limit","pagination","totalItems","formTitle","isLoggedIn","watch","val","methods","db","create","doneUploading","$refs","input1","click","event","target","files","onUpload","storageRef","medicamentID","doc","exists","console","log","error","userID","seconds","floor","Date","date","interval","showOrd","dialog","save","fav","$bind","query","get","then","load","page","startAt","loadStartPage","paginationChangeHandler","pageNumber","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/medicaments.ac7fb3d2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"10\",\"md\":\"10\"}},[_c('v-card',{staticClass:\"elevation-3\"},[_c('v-card-title',[_vm._v(\" Medicaments \"),_c('v-spacer'),_c('v-text-field',{staticClass:\"mr-8\",attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"loading\":_vm.busy,\"loading-text\":\"Loading... Please wait\",\"headers\":_vm.headers,\"items\":_vm.documents,\"search\":_vm.search,\"footer-props\":{\n        showFirstLastPage: false,\n        prevIcon: 'mdi-arrow-left',\n        nextIcon: 'mdi-arrow-right'\n      }},on:{\"update:items-per-page\":_vm.itemPerPage},scopedSlots:_vm._u([{key:\"item.scanned\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s(_vm.timeAgo(item.scanned.toDate())))])]}},{key:\"item.name\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('td',{staticClass:\"hover\",on:{\"click\":function($event){return _vm.showMed(item)}}},[_vm._v(_vm._s(item.name))])]}},{key:\"item.userName\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('td',{staticClass:\"hover\",on:{\"click\":function($event){return _vm.showUser(item)}}},[_vm._v(_vm._s(item.userName))])]}},{key:\"item.ordPath\",fn:function(ref){\n      var item = ref.item;\nreturn [(item.ordPath)?_c('td',[_c('expandable-image',{staticClass:\"image\",attrs:{\"src\":item.ordPath,\"lazy-src\":item.ordPath}})],1):_c('td',[_vm._v(\"vide\")])]}},{key:\"item.isVerified\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-switch',{attrs:{\"input-value\":item.isVerified,\"color\":\"purple\"},on:{\"change\":function($event){return _vm.changeState(item.documentID,!item.isVerified)}}})]}},{key:\"no-data\",fn:function(){return [_vm._v(\" NO DATA FOUND! \")]},proxy:true}],null,true)})],1)],1),_c('v-dialog',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialogMedicament),callback:function ($$v) {_vm.dialogMedicament=$$v},expression:\"dialogMedicament\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"• Medicaments\")])]),(_vm.dialogMedItem.image)?_c('v-img',{attrs:{\"contain\":\"\",\"height\":\"300px\",\"src\":_vm.dialogMedItem.image,\"lazy-src\":_vm.dialogMedItem.image}}):_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"md6\":\"\",\"offset-sm3\":\"\"}},[_c('div',[(_vm.imageData!=null)?_c('div',[_c('v-progress-linear',{attrs:{\"height\":\"25\"},model:{value:(_vm.uploadValue),callback:function ($$v) {_vm.uploadValue=$$v},expression:\"uploadValue\"}},[_c('strong',[_vm._v(_vm._s(Math.ceil(_vm.uploadValue))+\"%\")])]),_c('br'),(_vm.doneUploading)?_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"height\":\"300px\",\"src\":_vm.img1}}):_vm._e()],1):_c('div',[_c('v-btn',{on:{\"click\":_vm.pickImage}},[_vm._v(\"Choisir une imgae\")]),_c('input',{ref:\"input1\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.previewImage}})],1)])])],1),_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.dialogMedItem.nom)+\" \")]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.dialogMedItem.form)+\", \"+_vm._s(_vm.dialogMedItem.dosage))])],1)],1),_c('v-card-text',{staticClass:\"text--primary\"},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Le nom de laboratoire\")]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.dialogMedItem.labo))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"le pays de laboratoire\")]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.dialogMedItem.pays_labo))])],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogMedicament = false}}},[_vm._v(\"Fermer\")])],1)],1)],1),_c('v-dialog',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialogUser),callback:function ($$v) {_vm.dialogUser=$$v},expression:\"dialogUser\"}},[_c('v-card',{attrs:{\"width\":\"500\"}},[_c('v-sheet',{attrs:{\"color\":\"teal\",\"height\":\"200px\"}},[_c('v-app-bar',{attrs:{\"flat\":\"\",\"color\":\"rgba(0, 0, 0, 0)\"}},[_c('v-toolbar-title',{staticClass:\"title white--text pl-0\"},[_vm._v(\" MedDwak User \")]),_c('v-spacer')],1),_c('v-card-title',{staticClass:\"white--text mt-8\"},[_c('v-avatar',{attrs:{\"size\":\"56\"}},[(_vm.dialogUserItem.mPhotoUri)?_c('v-img',{attrs:{\"src\":_vm.dialogUserItem.mPhotoUri,\"lazy-src\":_vm.dialogUserItem.mPhotoUri}}):_vm._e()],1),_c('p',{staticClass:\"ml-3\"},[_vm._v(\" \"+_vm._s(_vm.dialogUserItem.mName)+\" \")])],1)],1),_c('v-card-actions',[_c('div',{staticClass:\"font-weight-bold ml-8 mb-2\"},[_vm._v(\" Contact \")]),_c('v-timeline',{attrs:{\"align-top\":\"\",\"dense\":\"\"}},[_c('v-timeline-item',{attrs:{\"small\":\"\"}},[_c('div',[_c('div',{staticClass:\"font-weight-normal\"},[_c('strong',[_vm._v(\"Numéro de téléphone \")])]),_c('div',[_vm._v(_vm._s(_vm.dialogUserItem.mPhoneNumber))])]),_c('div',[_c('div',{staticClass:\"font-weight-normal\"},[_c('strong',[_vm._v(\"Year of birth\")])]),_c('div',[_vm._v(_vm._s(_vm.dialogUserItem.dateOfBirth))])]),_c('div',[_c('div',{staticClass:\"font-weight-normal\"},[_c('strong',[_vm._v(\"Email\")])]),_c('div',[_vm._v(_vm._s(_vm.dialogUserItem.mEmail))])])])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n   <v-row\n     align=\"center\"\n     justify=\"center\" >\n    <v-col\n      cols=\"12\"\n      sm=\"10\"\n      md=\"10\"\n    >\n  <v-card class=\"elevation-3\">\n    <v-card-title>\n      Medicaments\n      <v-spacer/>\n      <v-text-field\n        class=\"mr-8\"\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"Search\"\n        single-line\n        hide-details\n      />\n    </v-card-title>\n    <v-data-table\n      @update:items-per-page=\"itemPerPage\"\n      :loading=\"busy\"\n      loading-text=\"Loading... Please wait\"\n      :headers=\"headers\"\n      :items=\"documents\"\n      :search=\"search\"\n      class=\"elevation-1\"\n      :footer-props=\"{\n        showFirstLastPage: false,\n        prevIcon: 'mdi-arrow-left',\n        nextIcon: 'mdi-arrow-right'\n      }\"\n    >\n\n    <template v-slot:[`item.scanned`]=\"{ item }\">\n      <td>{{timeAgo(item.scanned.toDate())}}</td>\n    </template>\n\n    <template v-slot:[`item.name`]=\"{ item }\">\n      <td @click=\"showMed(item)\" class=\"hover\">{{item.name}}</td>\n    </template>\n\n    <template v-slot:[`item.userName`]=\"{ item }\">\n      <td @click=\"showUser(item)\" class=\"hover\">{{item.userName}}</td>\n    </template>\n\n    <template v-slot:[`item.ordPath`]=\"{ item }\">\n      <td v-if=\"item.ordPath\">\n      <expandable-image\n        :src=\"item.ordPath\"\n        :lazy-src=\"item.ordPath\"\n        class=\"image\"\n      />\n      </td>\n      <td v-else>vide</td>\n    </template>\n\n    <template v-slot:[`item.isVerified`]=\"{ item }\">\n      <v-switch :input-value=\"item.isVerified\"\n        @change=\"changeState(item.documentID,!item.isVerified)\" color=\"purple\" />\n    </template>\n\n    <template v-slot:no-data>\n      NO DATA FOUND!\n    </template>\n  </v-data-table>\n\n</v-card >\n</v-col>\n\n       <v-dialog\n          v-model=\"dialogMedicament\"\n          class=\"mx-auto\"\n          max-width=\"500\" >\n        <v-card\n          class=\"mx-auto\"\n          max-width=\"500\"\n        >\n          <v-card-title>\n            <span class=\"headline\">• Medicaments</span>\n          </v-card-title>\n          <v-img\n            v-if=\"dialogMedItem.image\"\n            contain\n            height=\"300px\"\n            :src=\"dialogMedItem.image\"\n            :lazy-src=\"dialogMedItem.image\"\n          />\n\n          <v-layout v-else row>\n            <v-flex  md6 offset-sm3 >\n              <div>\n\n                <div v-if=\"imageData!=null\">\n                  <v-progress-linear\n                    v-model=\"uploadValue\"\n                    height=\"25\">\n                    <strong>{{ Math.ceil(uploadValue) }}%</strong>\n                  </v-progress-linear>\n                  <br>\n                  <v-img\n                    v-if=\"doneUploading\"\n                    class=\"white--text align-end\"\n                    height=\"300px\"\n                    :src=\"img1\"\n                  />\n                </div>\n\n                <div v-else>\n                  <v-btn @click=\"pickImage\">Choisir une imgae</v-btn>\n                  <input type=\"file\" ref=\"input1\"\n                    style=\"display: none\"\n                    @change=\"previewImage\" accept=\"image/*\" >\n                </div>\n\n              </div>\n            </v-flex>\n          </v-layout>\n\n          <v-list-item two-line>\n            <v-list-item-content>\n              <v-list-item-title class=\"headline\">\n                {{dialogMedItem.nom}}\n              </v-list-item-title>\n              <v-list-item-subtitle>{{dialogMedItem.form}}, {{dialogMedItem.dosage}}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-card-text class=\"text--primary\">\n            <v-list-item-content>\n              <v-list-item-title>Le nom de laboratoire</v-list-item-title>\n              <v-list-item-subtitle>{{dialogMedItem.labo}}</v-list-item-subtitle>\n            </v-list-item-content>\n\n            <v-list-item-content>\n              <v-list-item-title>le pays de laboratoire</v-list-item-title>\n              <v-list-item-subtitle>{{dialogMedItem.pays_labo}}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer/>\n            <v-btn color=\"blue darken-1\" text @click=\"dialogMedicament = false\">Fermer</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n          v-model=\"dialogUser\"\n          class=\"mx-auto\"\n          max-width=\"500\" >\n        <v-card width=\"500\">\n        <v-sheet\n          color=\"teal\"\n          height=\"200px\"\n        >\n          <v-app-bar\n            flat\n            color=\"rgba(0, 0, 0, 0)\"\n          >\n            <v-toolbar-title class=\"title white--text pl-0\">\n              MedDwak User\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n          </v-app-bar>\n\n          <v-card-title class=\"white--text mt-8\">\n            <v-avatar size=\"56\">\n               <v-img\n                  v-if=\"dialogUserItem.mPhotoUri\"\n                  :src=\"dialogUserItem.mPhotoUri\"\n                  :lazy-src=\"dialogUserItem.mPhotoUri\"\n                />\n            </v-avatar>\n            <p class=\"ml-3\">\n              {{dialogUserItem.mName}}\n            </p>\n          </v-card-title>\n        </v-sheet>\n\n        <v-card-actions>\n          <div class=\"font-weight-bold ml-8 mb-2\">\n            Contact\n          </div>\n\n          <v-timeline\n            align-top\n            dense\n          >\n            <v-timeline-item small>\n              <div>\n                <div class=\"font-weight-normal\">\n                  <strong>Numéro de téléphone </strong>\n                </div>\n                <div>{{ dialogUserItem.mPhoneNumber }}</div>\n              </div>\n              <div>\n                <div class=\"font-weight-normal\">\n                  <strong>Year of birth</strong>\n                </div>\n                <div>{{ dialogUserItem.dateOfBirth }}</div>\n              </div>\n              <div>\n                <div class=\"font-weight-normal\">\n                  <strong>Email</strong>\n                </div>\n                <div>{{ dialogUserItem.mEmail }}</div>\n              </div>\n            </v-timeline-item>\n          </v-timeline>\n        </v-card-actions>\n      </v-card>\n      </v-dialog>\n   </v-row>\n\n</template>\n\n<script>\n// import api from '@/api'\nimport { db, firebaseStorage } from '@/db'\n\nconst query = db.collection('med-dwa').orderBy('scanned', 'desc')\n\nexport default {\n  data: () => ({\n    img1: '',\n    imageData: null,\n    uploadValue: 0,\n    pagination: { page: 1, totalItems: 1 },\n    documents: [],\n    search: '',\n    doneUploading: false,\n    limit: 10,\n    dialogMedicament: false,\n    dialogUser: false,\n    back: false,\n    documentID: '',\n    medicamentID: '',\n    isVerified: null,\n    headers: [\n      {\n        text: 'Ajouter a',\n        align: 'start',\n        value: 'scanned',\n        sortable: true\n      },\n      { text: 'Le Type', value: 'category' },\n      { text: 'Wilaya', value: 'location' },\n      { text: 'Le nom du med ', value: 'name' },\n      { text: 'Ordonnance', value: 'ordPath', sortable: false },\n      { text: 'Utilisateur', value: 'userName', sortable: false },\n      { text: 'Ord Verified', value: 'isVerified', sortable: false }\n    ],\n    dialogMedItem: {\n      dosage: '',\n      form: '',\n      labo: '',\n      nom: '',\n      pays_labo: '',\n      denomination: '',\n      image: ''\n    },\n    dialogUserItem: {\n      dateOfBirth: '',\n      mEmail: '',\n      mName: '',\n      mPhoneNumber: '',\n      mPhotoUri: ''\n    },\n    defaultItem: {\n      id: -1,\n      titre: '',\n      prix: 0,\n      categorie: '',\n      description: ''\n    },\n    busy: false\n  }),\n\n  mounted () {\n    this.loadFirst()\n  },\n  computed: {\n    pages () {\n      if (this.limit == null || this.pagination.totalItems == null) {\n        return 0\n      }\n      return Math.ceil(this.pagination.totalItems / this.limit)\n    },\n    formTitle () {\n      return ''\n    },\n    isLoggedIn: function () {\n      return ''\n    }\n  },\n  watch: {\n    dialogMedicament: function (val) {\n      if (!val) {\n        this.dialogMedItem.image = 'https://meddwak.com/wp-content/uploads/2020/05/cropped-logo_white.png'\n      }\n    }\n  },\n\n  methods: {\n    changeState (id, val) {\n      db.collection('med-dwa').doc(id).set({ isVerified: val }, { merge: true })\n    },\n    create () {\n      db.collection('medicaments').doc(this.medicamentID).set({ image: this.img1 }, { merge: true })\n      db.collection('med-dwa').doc(this.documentID).set({ path: this.img1 }, { merge: true })\n      this.doneUploading = true\n    },\n    pickImage () {\n      this.$refs.input1.click()\n    },\n    previewImage (event) {\n      this.uploadValue = 0\n      this.img1 = null\n      this.imageData = event.target.files[0]\n      this.onUpload()\n    },\n\n    onUpload () {\n      this.img1 = null\n      const storageRef = firebaseStorage.ref(`images/${this.imageData.name}`).put(this.imageData)\n      storageRef.on('state_changed',\n        snapshot => { this.uploadValue = (snapshot.bytesTransferred / snapshot.totalBytes) * 100 },\n        error => { console.log(error.message) },\n        () => {\n          storageRef.snapshot.ref.getDownloadURL().then((url) => {\n            this.img1 = url\n            this.uploadValue = 100\n            this.create()\n          })\n        })\n    },\n\n    showMed (item) {\n      this.documentID = item.documentID\n      this.medicamentID = item.medicamentID\n      if (this.medicamentID == null) return\n      db.collection('medicaments').doc(item.medicamentID).get().then((doc) => {\n        if (doc.exists) {\n          this.dialogMedItem = doc.data()\n        } else {\n          console.log('No such document!')\n        }\n      }).catch(function (error) {\n        console.log('Error getting document:', error)\n      })\n      this.dialogMedicament = true\n    },\n\n    showUser (item) {\n      if (item.userID == null) return\n      db.collection('med-dwa-users').doc(item.userID).get().then((doc) => {\n        if (doc.exists) {\n          this.dialogUserItem = doc.data()\n        } else {\n          this.dialogMedItem.mName = 'No such User!'\n        }\n      }).catch(function (error) {\n        this.dialogMedItem.mName = 'Error getting document!' + error\n      })\n      this.dialogUser = true\n    },\n    timeAgo (date) {\n      var seconds = Math.floor((new Date() - date) / 1000)\n\n      var interval = seconds / 31536000\n\n      if (interval > 1) {\n        return Math.floor(interval) + ' years'\n      }\n      interval = seconds / 2592000\n      if (interval > 1) {\n        return Math.floor(interval) + ' months'\n      }\n      interval = seconds / 86400\n      if (interval > 1) {\n        return Math.floor(interval) + ' days'\n      }\n      interval = seconds / 3600\n      if (interval > 1) {\n        return Math.floor(interval) + ' hours'\n      }\n      interval = seconds / 60\n      if (interval > 1) {\n        return Math.floor(interval) + ' minutes'\n      }\n      return Math.floor(seconds) + ' seconds'\n    },\n\n    showOrd (a) {\n      this.dialog = true\n    },\n    save () {},\n    fav () {},\n\n    loadFirst () {\n      this.busy = true\n      this.$bind('documents', query.limit(100))\n      query.get().then(snap => {\n        this.pagination.totalItems = snap.size\n      })\n      this.busy = false\n    },\n    load (page) {\n      this.busy = true\n      console.log(this.limit * page - this.limit)\n      this.$bind('documents', query.startAt(this.limit * page - this.limit).limit(this.limit))\n      this.busy = false\n    },\n    loadStartPage () {\n      this.busy = true\n      this.$bind('documents', query.limit(this.limit))\n      this.busy = false\n    },\n    paginationChangeHandler (pageNumber) {\n      console.log(pageNumber)\n    },\n    itemPerPage (pageNumber) {\n      this.limit = pageNumber\n    }\n  }\n}\n</script>\n\n<style scoped>\n.image {\n  width: 50px;\n  max-height: 100%;\n  max-width: 100%;\n}\n.hover{\n  cursor:pointer;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Medicaments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Medicaments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Medicaments.vue?vue&type=template&id=851f4688&scoped=true&\"\nimport script from \"./Medicaments.vue?vue&type=script&lang=js&\"\nexport * from \"./Medicaments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Medicaments.vue?vue&type=style&index=0&id=851f4688&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"851f4688\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Medicaments.vue?vue&type=style&index=0&id=851f4688&scoped=true&lang=css&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}